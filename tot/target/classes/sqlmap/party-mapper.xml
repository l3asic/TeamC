<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="party.mapper">

<!-- <select id="noticelist" resultType="android.mainburger.MainBurgerNoticeVO">
select board_sn, board_title, board_content from tbl_board where board_class = 'notice'
</select>

<select id="notice_detail" resultType="android.mainburger.MainBurgerNoticeVO">
select * from tbl_board where board_sn = #{paramSn}
</select>

<select id="selectThisVs" resultType="android.mainburger.OneOneEmailVO">
select * from tbl_board where member_id=#{name, jdbcType=VARCHAR}} and board_title=#{title} and board_content = #{content}
</select> -->


<!-- @@ 파티 추가 연습 (파티 sn, 멤버(기본키라 임시), 사진, 빠짐)  -->
<insert id="insertParty">	
	
	insert into tbl_party (party_sn, member_id, party_private, party_name, party_detail, party_tag1, party_tag2, party_tag3, party_leader )
	values( seq_party_sn.nextval, #{member_id}, #{party_private, jdbcType=VARCHAR}, #{party_name, jdbcType=VARCHAR}, #{party_detail}, #{party_tag1}, #{party_tag2}, #{party_tag3}, #{party_leader}  )	
	
</insert>

<select id="selectMypartyList" resultType="android.partyvo.PartyListVO">

	select * from tbl_party where member_id = #{member_id}
	
</select>

<select id="selectOpenpartyList" resultType="android.partyvo.PartyListVO">

	select * from tbl_party where party_private = 'y'
	
</select>


<select id="selectPartyDetail" resultType="android.partyvo.PartyListVO">

	select * from tbl_party where party_sn = #{party_sn}
	
</select>

<insert id="insertJoinparty">	
	
	insert into tbl_party 
	values( #{party_sn}, #{member_id}, #{party_private, jdbcType=VARCHAR}, #{party_name, jdbcType=VARCHAR}, #{party_detail, jdbcType=VARCHAR}, #{party_tag1,jdbcType=VARCHAR}, #{party_tag2,jdbcType=VARCHAR}, #{party_tag3,jdbcType=VARCHAR}, #{party_leader, jdbcType=VARCHAR}  )	
	
</insert>



<select id="selectSearchOpenPartylist" resultType="android.partyvo.PartyListVO"> 

	select * from tbl_party where 
	party_private = 'y' and party_name like '%' ||  #{search_keyword} || '%'
	or party_private = 'y' and party_detail like '%' ||  #{search_keyword} || '%' 
	or party_private = 'y' and party_tag1 like '%' ||  #{search_keyword} || '%' 
	or party_private = 'y' and party_tag2 like '%' ||  #{search_keyword} || '%' 
	or party_private = 'y' and party_tag3 like '%' ||  #{search_keyword} || '%' 
	or party_private = 'y' and party_leader like '%' ||  #{search_keyword} || '%'

	
</select>




<select id="selectcheckPartyname" resultType="string">

	select count(*) from tbl_party where party_name = #{party_name}
	
</select>



<!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ 파티 플랜 영역 ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->



<insert id="insertPartyPlan">	
	
	insert into tbl_plan (plan_sn, party_sn, plan_name, plan_startdate, plan_enddate, 
	plan_location, plan_startpoint, plan_hotel, plan_cost, member_id, plan_writer, plan_starttime)
	values( seq_plan_sn.nextval, #{party_sn}, #{plan_name}, #{plan_startdate}, #{plan_enddate}, 
	#{plan_location}, #{plan_startpoint}, #{plan_hotel}, #{plan_cost}, #{member_id}, #{plan_writer}, #{plan_starttime}) 
	
</insert>


<select id="selectPlanList" resultType="android.partyvo.PartyPlanListVO">

	select * from tbl_plan where party_sn = #{party_sn}
	
</select>




</mapper>